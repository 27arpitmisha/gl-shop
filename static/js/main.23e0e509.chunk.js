(this.webpackJsonpglshop=this.webpackJsonpglshop||[]).push([[0],[,,,function(t,e,i){t.exports={backdrop:"ProductDetail_backdrop__2JxpI",cart:"ProductDetail_cart__1u8KA","meals-appear":"ProductDetail_meals-appear__2hsMw",shop:"ProductDetail_shop__3e99I",item:"ProductDetail_item__36UFu",detail:"ProductDetail_detail__U_80j",description:"ProductDetail_description__3bn3d",price:"ProductDetail_price__qr4NF",actions:"ProductDetail_actions__1yJb2","button--alt":"ProductDetail_button--alt__3Nf_U",button:"ProductDetail_button__4y9mL"}},function(t,e,i){t.exports={backdrop:"AvailableCart_backdrop__36JXb",cart:"AvailableCart_cart__12oBB","cart-items":"AvailableCart_cart-items__s3kxF",total:"AvailableCart_total__2L1Pu",actions:"AvailableCart_actions__B7Y1t","check-out":"AvailableCart_check-out__4HuGz","button--alt":"AvailableCart_button--alt__19xm1",button:"AvailableCart_button__3Kz7j",h3:"AvailableCart_h3__2wIME"}},,,function(t,e,i){t.exports={"cart-item":"CartItem_cart-item__3QxC6",summary:"CartItem_summary__3rXwX",price:"CartItem_price__1dy24",amount:"CartItem_amount__-i8wL",actions:"CartItem_actions__3Guph"}},function(t,e,i){t.exports={shop:"Product_shop__3h9q6",item:"Product_item__U7QJ0",detail:"Product_detail__3ymlq",description:"Product_description__25604",price:"Product_price__2InR7"}},function(t,e,i){t.exports={backdrop:"AvailableWishListProduct_backdrop__OmYuE",wList:"AvailableWishListProduct_wList__2rGqJ","wList-items":"AvailableWishListProduct_wList-items__2GAWN",actions:"AvailableWishListProduct_actions__1gFtU","check-out":"AvailableWishListProduct_check-out__3sNJi","button-alt":"AvailableWishListProduct_button-alt__3qTDW",button:"AvailableWishListProduct_button__1j80F"}},,,,,function(t,e,i){t.exports={button:"HeaderCart_button__3I0fi",icon:"HeaderCart_icon__6phJ2",badge:"HeaderCart_badge__1amRJ"}},function(t,e,i){t.exports={header:"Header_header__7zwJc","main-image":"Header_main-image__1kuYW",HeaderButtons:"Header_HeaderButtons__16l6h"}},,,,function(t,e,i){t.exports={button:"HeaderWishList_button__PKRoy",icon:"HeaderWishList_icon__3vV5h"}},function(t,e,i){t.exports={shops:"AvailableProduct_shops__2pdap","shops-appear":"AvailableProduct_shops-appear__-KfoP",error:"AvailableProduct_error__1d7jv"}},function(t,e,i){t.exports={"wList-item":"WishList_wList-item__29jY7",summary:"WishList_summary__1gKqN",price:"WishList_price__PbztI",amount:"WishList_amount__2udVm",actions:"WishList_actions__2fMeV"}},,function(t,e,i){t.exports={card:"Card_card__8RvAA"}},function(t,e,i){t.exports={input:"Input_input__22vY3"}},function(t,e,i){t.exports={form:"ShoppingForm_form__1wQiV"}},,,,,function(t,e,i){},,,,function(t,e,i){},function(t,e,i){"use strict";i.r(e);var c=i(1),n=i.n(c),a=i(22),s=i.n(a),r=(i(30),i(2)),o=(i(31),i(6)),u=i(4),d=i.n(u),l=i(13),m=n.a.createContext({items:[{id:"",name:"",description:"",price:0,amount:0,image:""}],wishList:[{id:"",name:"",price:0,image:""}],totalAmount:0,addItem:function(t){Object(l.a)(t)},addItemWishList:function(t){Object(l.a)(t)},removeItemWishList:function(t){},removeItem:function(t){},replaceCart:function(t){Object(l.a)(t)}}),j=i(23),b=i.n(j),h=i(0),p=function(t){var e=t.children;return Object(h.jsx)("div",{className:b.a.card,children:e})},_=i(7),O=i.n(_),x=function(t){var e=t.amount,i=t.name,c=t.price,n=t.image,a=t.onAdd,s=t.onRemove;return Object(h.jsx)("div",{children:Object(h.jsxs)("li",{className:O.a["cart-item"],children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:n}),Object(h.jsx)("h2",{children:i}),Object(h.jsxs)("div",{className:O.a.summary,children:[Object(h.jsxs)("span",{className:O.a.price,children:["\u20b9 ",c]}),Object(h.jsxs)("span",{className:O.a.amount,children:["x ",e]})]})]}),Object(h.jsxs)("div",{className:O.a.actions,children:[Object(h.jsx)("button",{onClick:s,children:"\u2212"}),Object(h.jsx)("button",{onClick:a,children:"+"})]})]})})},f=function(t){var e=t.onClick,i=Object(c.useContext)(m),n=i.items.length>0,a=function(t){i.addItem(Object(o.a)(Object(o.a)({},t),{},{amount:1}))},s=function(t){i.removeItem(t)};return Object(h.jsx)("div",{className:d.a.backdrop,children:Object(h.jsx)("div",{className:d.a.cart,children:Object(h.jsxs)(p,{children:[Object(h.jsx)("div",{className:d.a["cart-items"],children:Object(h.jsxs)("ul",{children:[i.items.map((function(t){return Object(h.jsx)(x,{id:t.id,name:t.name,desciption:t.description,price:t.price,image:t.image,amount:t.amount,onAdd:a.bind(null,t),onRemove:s.bind(null,t.id)},t.id)})),Object(h.jsxs)("div",{className:d.a.total,children:[n?Object(h.jsx)("span",{children:"Total"}):Object(h.jsx)("h4",{children:"Cart is empty"}),Object(h.jsxs)("span",{children:["\u20b9",Math.abs(parseFloat(i.totalAmount.toFixed(2)))]})]})]})}),Object(h.jsxs)("div",{className:d.a.actions,children:[Object(h.jsx)("button",{className:d.a["button--alt"],onClick:e,children:"Cancel"}),n&&Object(h.jsx)("button",{className:d.a.button,children:"Order"})]})]})})})},v=i(14),C=i.n(v),g=function(){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(h.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},k=function(t){var e=t.onClick,i=Object(c.useContext)(m).items.reduce((function(t,e){return t+e.amount}),0);return Object(h.jsxs)("button",{className:C.a.button,onClick:e,children:[Object(h.jsx)("span",{className:C.a.icon,children:Object(h.jsx)(g,{})}),Object(h.jsx)("span",{children:"Check Cart"}),Object(h.jsx)("span",{className:C.a.badge,children:i})]})},L=i.p+"static/media/banner2.359f0b3f.png",N=i(15),w=i.n(N),A=i(19),P=i.n(A),y=i(12),W=function(t){var e=t.onClick,i=Object(c.useContext)(m).wishList.length>0;return Object(h.jsxs)("button",{className:P.a.button,onClick:e,children:[Object(h.jsx)("span",{children:"Wish List "}),Object(h.jsx)("span",{className:P.a.icon,children:Object(h.jsx)(y.a,{size:"1.5em",color:i?"red":"grey"})})]})},I=function(t){var e=t.onClick,i=t.onClickWishList;return Object(h.jsxs)(c.Fragment,{children:[Object(h.jsxs)("header",{className:w.a.header,children:[Object(h.jsx)("h3",{children:"Globallogic Shop"}),Object(h.jsxs)("div",{className:w.a.HeaderButtons,children:[Object(h.jsx)(W,{onClick:i}),Object(h.jsx)(k,{onClick:e})]})]}),Object(h.jsx)("div",{className:w.a["main-image"],children:Object(h.jsx)("img",{src:L})})]})},D=i(5),E=i.n(D),S=i(16),R=i(20),H=i.n(R),F=(i(34),function(){return Object(h.jsx)("div",{className:"loader"})}),J=i(8),M=i.n(J),V=i(24),z=i.n(V),B=n.a.forwardRef((function(t,e){return Object(h.jsxs)("div",{className:z.a.input,children:[Object(h.jsx)("label",{}),Object(h.jsx)("input",{id:t.id,ref:e,defaultValue:"1",type:"number"})]})})),T=i(25),q=i.n(T),U=function(t){var e=t.id,i=t.onClick,n=t.onWishListClick,a=t.wishListStatus,s=Object(c.useRef)(null),o=Object(c.useState)(!1),u=Object(r.a)(o,2),d=u[0],l=u[1];return Object(h.jsxs)("form",{className:q.a.form,children:[Object(h.jsx)(B,{id:e,ref:s}),d?Object(h.jsx)("p",{children:"Input is inValid "}):"",Object(h.jsx)("button",{onClick:function(t){if(t.preventDefault(),s.current){var e=s.current.valueAsNumber;e<=0||isNaN(e)||e>5?l(!0):(i(e),l(!1))}},children:" + ADD "}),Object(h.jsx)(y.a,{size:"1.5em",color:a?"red":"grey",onClick:n})]})},G=function(t){var e=t.singleProduct,i=t.onClick,n=Object(c.useState)(!1),a=Object(r.a)(n,2),s=a[0],o=a[1],u=Object(c.useContext)(m);return Object(h.jsxs)("li",{className:M.a.shop,children:[Object(h.jsxs)("div",{className:M.a.item,children:[Object(h.jsx)("img",{src:e.image,alt:e.name,onClick:function(){i(e)}}),Object(h.jsxs)("div",{className:M.a.detail,children:[Object(h.jsx)("h3",{children:e.name}),Object(h.jsx)("div",{className:M.a.description,children:e.description}),Object(h.jsxs)("div",{className:M.a.price,children:["\u20b9",e.price]})]})]}),Object(h.jsx)("div",{children:Object(h.jsx)(U,{id:e.id,onClick:function(t){u.addItem({id:e.id,name:e.name,description:e.description,price:e.price,image:e.image,amount:t})},onWishListClick:function(){o(!s),s?u.removeItemWishList(e.id):u.addItemWishList({id:e.id,name:e.name,price:e.price,image:e.image})},wishListStatus:s})})]})},K=!0,Y=function(t){var e=t.onClick,i=Object(c.useState)(!1),n=Object(r.a)(i,2),a=n[0],s=n[1],o=Object(c.useState)(!1),u=Object(r.a)(o,2),d=u[0],l=u[1],j=Object(c.useState)(!1),b=Object(r.a)(j,2),_=b[0],O=b[1],x=Object(c.useContext)(m),f=Object(c.useState)([{id:"",name:"",price:0,description:"",image:""}]),v=Object(r.a)(f,2),C=v[0],g=v[1];return Object(c.useEffect)((function(){function t(){return(t=Object(S.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(K),!K){t.next=4;break}return K=!1,t.abrupt("return");case 4:return console.log("called"),t.next=7,fetch("https://shop-1a145-default-rtdb.firebaseio.com/Cart.json",{method:"PUT",body:JSON.stringify({items:x.items,totalAmount:x.totalAmount})});case 7:if(t.sent.ok){t.next=10;break}throw new Error("Something not right while adding to cart");case 10:l(!1);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){l(!0),setTimeout((function(){l(!1)}),1e3)}))}),[x.items]),Object(c.useEffect)((function(){function t(){return(t=Object(S.a)(E.a.mark((function t(){var e,i,c,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,fetch("https://shop-1a145-default-rtdb.firebaseio.com/Cart.json");case 3:if((e=t.sent).ok){t.next=6;break}throw new Error("Something Went Wrong");case 6:return t.next=8,e.json();case 8:for(n in i=t.sent,c=[],i.items)c.push({id:n,amount:i.items[n].amount,name:i.items[n].name,description:i.items[n].description,price:i.items[n].price,image:i.items[n].image});x.replaceCart({cartProducts:[].concat(c),totalAmount:i.totalAmount}),l(!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){l(!0),setTimeout((function(){l(!1)}),1e3)}))}),[]),Object(c.useEffect)((function(){function t(){return(t=Object(S.a)(E.a.mark((function t(){var e,i,c,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,fetch("https://shop-1a145-default-rtdb.firebaseio.com/products.json");case 3:if((e=t.sent).ok){t.next=6;break}throw new Error("Something Went Wrong");case 6:return t.next=8,e.json();case 8:for(n in i=t.sent,c=[],i)c.push({id:n,name:i[n].name,description:i[n].description,price:i[n].price,image:i[n].image});g(c),s(!1),O(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){s(!0)}))}),[]),Object(h.jsxs)("section",{className:H.a.shops,children:[d&&Object(h.jsx)("p",{children:"Couldnt to added to cart"}),Object(h.jsx)("ul",{children:a?Object(h.jsx)("h3",{className:H.a.error,children:"Something went wrong! "}):_?Object(h.jsx)(F,{}):Object(h.jsx)(p,{children:C.map((function(t){return Object(h.jsx)(G,{singleProduct:t,onClick:e},t.id)}))})})]})},Q=i(3),X=i.n(Q),Z=function(t){t.id;var e=t.name,i=t.description,c=t.image,n=t.price,a=t.onClick;return Object(h.jsx)("div",{className:X.a.backdrop,children:Object(h.jsx)("div",{className:X.a.cart,children:Object(h.jsxs)(p,{children:[Object(h.jsxs)("div",{className:X.a.item,children:[Object(h.jsx)("img",{src:c,alt:e}),Object(h.jsxs)("div",{className:X.a.detail,children:[Object(h.jsx)("h3",{children:e}),Object(h.jsx)("div",{className:X.a.description,children:i}),Object(h.jsxs)("div",{className:X.a.price,children:["\u20b9",n]})]})]}),Object(h.jsx)("div",{className:X.a.actions,children:Object(h.jsx)("button",{className:X.a["button--alt"],onClick:a,children:"Cancel"})})]})})})},$=i(21),tt=i.n($),et=function(t){var e=t.id,i=t.name,n=t.description,a=t.image,s=t.price,r=Object(c.useContext)(m);return Object(h.jsx)("div",{children:Object(h.jsxs)("li",{className:tt.a["wList-item"],children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:a}),Object(h.jsx)("h2",{children:i}),Object(h.jsx)("div",{className:tt.a.amount,children:Object(h.jsxs)("span",{children:["\u20b9 ",s]})})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){r.addItem({id:e,name:i,description:n,price:s,image:a,amount:1})},children:"+ Cart"})})]})})},it=i(9),ct=i.n(it),nt=function(t){var e=t.onClick,i=Object(c.useContext)(m),n=i.wishList.length>0;return Object(h.jsx)("div",{className:ct.a.backdrop,children:Object(h.jsx)("div",{className:ct.a.wList,children:Object(h.jsxs)(p,{children:[Object(h.jsxs)("div",{className:ct.a["wList-items"],children:[Object(h.jsx)("ul",{children:i.wishList.map((function(t){return Object(h.jsx)(et,{id:t.id,name:t.name,image:t.image,price:t.price,description:t.description},t.id)}))}),n?"":Object(h.jsx)("h4",{children:"Wish List is empty"})]}),Object(h.jsx)("div",{className:ct.a.actions,children:Object(h.jsx)("button",{className:ct.a["button-alt"],onClick:e,children:"Cancel"})})]})})})},at=i(17),st={items:[],totalAmount:0},rt={wishListProduct:[]},ot=function(t,e){return"ADD"===e.type?{wishListProduct:t.wishListProduct.findIndex((function(t){if(t.id===e.item.id)return t.id}))>=0?Object(at.a)(t.wishListProduct):t.wishListProduct.concat(e.item)}:"REMOVE"===e.type?{wishListProduct:t.wishListProduct.filter((function(t){return t.id!==e.id}))}:{wishListProduct:[]}},ut=function(t,e){if("REPLACE_CART"===e.type)return{items:e.product.cartProducts,totalAmount:e.product.totalAmount};if("ADD"===e.type){var i,c=t.totalAmount+e.item.price*e.item.amount,n=t.items.findIndex((function(t){if(t.id===e.item.id)return t.id})),a=t.items[n];if(n>=0){var s=Object(o.a)(Object(o.a)({},a),{},{amount:t.items[n].amount+e.item.amount});(i=Object(at.a)(t.items))[n]=s}else i=t.items.concat(e.item);return{items:i,totalAmount:c}}if("REMOVE"===e.type){var r,u=t.items.findIndex((function(t){if(t.id===e.id)return t})),d=t.items[u],l=t.totalAmount-d.price;return 1===d.amount?r=t.items.filter((function(t){return t.id!==e.id})):(console.log(t.items[u].amount),t.items[u].amount=t.items[u].amount-1,r=Object(at.a)(t.items)),{items:r,totalAmount:l}}return st},dt=function(t){var e=t.children,i=Object(c.useReducer)(ut,st),n=Object(r.a)(i,2),a=n[0],s=n[1],o=Object(c.useReducer)(ot,rt),u=Object(r.a)(o,2),d=u[0],l=u[1],j={items:a.items,wishList:d.wishListProduct,totalAmount:a.totalAmount,addItemWishList:function(t){l({type:"ADD",item:t})},removeItemWishList:function(t){l({type:"REMOVE",id:t})},addItem:function(t){s({type:"ADD",item:t})},removeItem:function(t){s({type:"REMOVE",id:t})},replaceCart:function(t){s({type:"REPLACE_CART",product:t})}};return Object(h.jsx)(m.Provider,{value:j,children:e})};var lt=function(){Object(c.useContext)(m);var t=Object(c.useState)(!1),e=Object(r.a)(t,2),i=e[0],n=e[1],a=Object(c.useState)(!1),s=Object(r.a)(a,2),o=s[0],u=s[1],d=Object(c.useState)(!1),l=Object(r.a)(d,2),j=l[0],b=l[1],p=Object(c.useState)({id:"",name:"",description:"",image:"",price:0}),_=Object(r.a)(p,2),O=_[0],x=_[1];return Object(h.jsxs)(dt,{children:[Object(h.jsx)(I,{onClick:function(){n(!0)},onClickWishList:function(){u(!0)}}),Object(h.jsx)(Y,{onClick:function(t){console.log(t),x(t),b(!0)}}),i?Object(h.jsx)(f,{onClick:function(){n(!1)}}):Object(h.jsx)(h.Fragment,{}),o?Object(h.jsx)(nt,{onClick:function(){u(!1)}}):Object(h.jsx)(h.Fragment,{}),j?Object(h.jsx)(Z,{id:O.id,name:O.name,image:O.image,price:O.price,description:O.description,onClick:function(){b(!1)}}):Object(h.jsx)(h.Fragment,{})]})};s.a.render(Object(h.jsx)(lt,{}),document.getElementById("root"))}],[[35,1,2]]]);
//# sourceMappingURL=main.23e0e509.chunk.js.map