(this.webpackJsonpglshop=this.webpackJsonpglshop||[]).push([[0],[,,,function(t,e,i){t.exports={backdrop:"ProductDetail_backdrop__Q6ZuH",cart:"ProductDetail_cart__1l7MR","meals-appear":"ProductDetail_meals-appear__2crnO",shop:"ProductDetail_shop__38Fcy",item:"ProductDetail_item__1ksWU",detail:"ProductDetail_detail__QrlXW",description:"ProductDetail_description__1nsCz",price:"ProductDetail_price__8NUWn",actions:"ProductDetail_actions__2mhgA","button--alt":"ProductDetail_button--alt__2OBDi",button:"ProductDetail_button__1Snoo"}},function(t,e,i){t.exports={backdrop:"AvailableCart_backdrop__1Wy9A",cart:"AvailableCart_cart__XppQ2","meals-appear":"AvailableCart_meals-appear__17-Aq","cart-items":"AvailableCart_cart-items__2IuK_",total:"AvailableCart_total__1JiO4",actions:"AvailableCart_actions__1A5-J","check-out":"AvailableCart_check-out__3mJXH","button--alt":"AvailableCart_button--alt__kzRnD",button:"AvailableCart_button__14cQd",h3:"AvailableCart_h3__3Og_X"}},,function(t,e,i){t.exports={"cart-item":"CartItem_cart-item__38XFR",summary:"CartItem_summary__3Z1N_",price:"CartItem_price__26WPM",amount:"CartItem_amount__l4xxQ",actions:"CartItem_actions__PDw6J"}},function(t,e,i){t.exports={shop:"Product_shop__PJppF",item:"Product_item__2K9gh",detail:"Product_detail__37bI1",description:"Product_description__29vYd",price:"Product_price__1C5Tn"}},function(t,e,i){t.exports={backdrop:"AvailableWishListProduct_backdrop__utUNK",wList:"AvailableWishListProduct_wList__26A5V","meals-appear":"AvailableWishListProduct_meals-appear__1U49N","wList-items":"AvailableWishListProduct_wList-items__2m8fq",actions:"AvailableWishListProduct_actions__3Nhm5","check-out":"AvailableWishListProduct_check-out__156SY","button-alt":"AvailableWishListProduct_button-alt__12LOC",button:"AvailableWishListProduct_button__2WcPX"}},,,,function(t,e,i){t.exports={button:"HeaderCart_button__1dcEv",icon:"HeaderCart_icon__AWuMM",badge:"HeaderCart_badge__1fMty"}},function(t,e,i){t.exports={header:"Header_header__1u2yu","main-image":"Header_main-image__2mbZM",HeaderButtons:"Header_HeaderButtons__2eBhN"}},,,,function(t,e,i){t.exports={button:"HeaderWishList_button__28d-z",icon:"HeaderWishList_icon__g02_8"}},,function(t,e,i){t.exports={shops:"AvailableProduct_shops__3v9Ry","shops-appear":"AvailableProduct_shops-appear__2XBm3",error:"AvailableProduct_error__3yR6c"}},function(t,e,i){t.exports={"wList-item":"WishList_wList-item__1e0nO",summary:"WishList_summary__2Jzvn",price:"WishList_price__2BU6Y",amount:"WishList_amount__3XZwS",actions:"WishList_actions__3fgjq"}},,function(t,e,i){t.exports={card:"Card_card__33_fn"}},,function(t,e,i){t.exports={input:"Input_input__12Epz"}},function(t,e,i){t.exports={form:"ShoppingForm_form__1_QWo"}},,,,,function(t,e,i){},,,,function(t,e,i){},function(t,e,i){"use strict";i.r(e);var c=i(1),n=i.n(c),a=i(21),s=i.n(a),r=(i(30),i(2)),o=(i(31),i(5)),l=i(4),d=i.n(l),u=i(16),j=n.a.createContext({items:[{id:"",name:"",description:"",price:0,amount:0,image:""}],wishList:[{id:"",name:"",price:0,image:""}],totalAmount:0,addItem:function(t){Object(u.a)(t)},addItemWishList:function(t){Object(u.a)(t)},removeItemWishList:function(t){},removeItem:function(t){}}),m=i(22),b=i.n(m),h=i(0),_=function(t){var e=t.children;return Object(h.jsx)("div",{className:b.a.card,children:e})},p=i(6),O=i.n(p),x=function(t){var e=t.amount,i=t.name,c=t.price,n=t.image,a=t.onAdd,s=t.onRemove;return Object(h.jsx)("div",{children:Object(h.jsxs)("li",{className:O.a["cart-item"],children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:n}),Object(h.jsx)("h2",{children:i}),Object(h.jsxs)("div",{className:O.a.summary,children:[Object(h.jsxs)("span",{className:O.a.price,children:["\u20b9 ",c]}),Object(h.jsxs)("span",{className:O.a.amount,children:["x ",e]})]})]}),Object(h.jsxs)("div",{className:O.a.actions,children:[Object(h.jsx)("button",{onClick:s,children:"\u2212"}),Object(h.jsx)("button",{onClick:a,children:"+"})]})]})})},f=function(t){var e=t.onClick,i=Object(c.useContext)(j),n=i.items.length>0,a=function(t){i.addItem(Object(o.a)(Object(o.a)({},t),{},{amount:1}))},s=function(t){i.removeItem(t)};return Object(h.jsx)("div",{className:d.a.backdrop,children:Object(h.jsx)("div",{className:d.a.cart,children:Object(h.jsxs)(_,{children:[Object(h.jsx)("div",{className:d.a["cart-items"],children:Object(h.jsxs)("ul",{children:[i.items.map((function(t){return Object(h.jsx)(x,{id:t.id,name:t.name,desciption:t.description,price:t.price,image:t.image,amount:t.amount,onAdd:a.bind(null,t),onRemove:s.bind(null,t.id)},t.id)})),Object(h.jsxs)("div",{className:d.a.total,children:[n?Object(h.jsx)("span",{children:"Total"}):Object(h.jsx)("h4",{children:"Cart is empty"}),Object(h.jsxs)("span",{children:["\u20b9",Math.abs(parseFloat(i.totalAmount.toFixed(2)))]})]})]})}),Object(h.jsxs)("div",{className:d.a.actions,children:[Object(h.jsx)("button",{className:d.a["button--alt"],onClick:e,children:"Cancel"}),n&&Object(h.jsx)("button",{className:d.a.button,children:"Order"})]})]})})})},v=i(12),C=i.n(v),g=function(){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(h.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},N=function(t){var e=t.onClick,i=Object(c.useContext)(j).items.reduce((function(t,e){return t+e.amount}),0);return Object(h.jsxs)("button",{className:C.a.button,onClick:e,children:[Object(h.jsx)("span",{className:C.a.icon,children:Object(h.jsx)(g,{})}),Object(h.jsx)("span",{children:"Check Cart"}),Object(h.jsx)("span",{className:C.a.badge,children:i})]})},k=i.p+"static/media/banner2.359f0b3f.png",L=i(13),A=i.n(L),P=i(17),w=i.n(P),W=i(11),y=function(t){var e=t.onClick,i=Object(c.useContext)(j).wishList.length>0;return Object(h.jsxs)("button",{className:w.a.button,onClick:e,children:[Object(h.jsx)("span",{children:"Wish List "}),Object(h.jsx)("span",{className:w.a.icon,children:Object(h.jsx)(W.a,{size:"1.5em",color:i?"red":"grey"})})]})},I=function(t){var e=t.onClick,i=t.onClickWishList;return Object(h.jsxs)(c.Fragment,{children:[Object(h.jsxs)("header",{className:A.a.header,children:[Object(h.jsx)("h3",{children:"Globallogic Shop"}),Object(h.jsxs)("div",{className:A.a.HeaderButtons,children:[Object(h.jsx)(y,{onClick:i}),Object(h.jsx)(N,{onClick:e})]})]}),Object(h.jsx)("div",{className:A.a["main-image"],children:Object(h.jsx)("img",{src:k})})]})},D=i(18),H=i.n(D),S=i(23),R=i(19),M=i.n(R),E=(i(34),function(){return Object(h.jsx)("div",{className:"loader"})}),z=i(7),F=i.n(z),B=i(24),J=i.n(B),X=n.a.forwardRef((function(t,e){return Object(h.jsxs)("div",{className:J.a.input,children:[Object(h.jsx)("label",{}),Object(h.jsx)("input",{id:t.id,ref:e,defaultValue:"1",type:"number"})]})})),V=i(25),Q=i.n(V),U=function(t){var e=t.id,i=t.onClick,n=t.onWishListClick,a=t.wishListStatus,s=Object(c.useRef)(null),o=Object(c.useState)(!1),l=Object(r.a)(o,2),d=l[0],u=l[1];return Object(h.jsxs)("form",{className:Q.a.form,children:[Object(h.jsx)(X,{id:e,ref:s}),d?Object(h.jsx)("p",{children:"Input is inValid "}):"",Object(h.jsx)("button",{onClick:function(t){if(t.preventDefault(),s.current){var e=s.current.valueAsNumber;e<=0||isNaN(e)||e>5?u(!0):(i(e),u(!1))}},children:" + ADD "}),Object(h.jsx)(W.a,{size:"1.5em",color:a?"red":"grey",onClick:n})]})},Z=function(t){var e=t.singleProduct,i=t.onClick,n=Object(c.useState)(!1),a=Object(r.a)(n,2),s=a[0],o=a[1],l=Object(c.useContext)(j);return Object(h.jsxs)("li",{className:F.a.shop,children:[Object(h.jsxs)("div",{className:F.a.item,children:[Object(h.jsx)("img",{src:e.image,alt:e.name,onClick:function(){i(e)}}),Object(h.jsxs)("div",{className:F.a.detail,children:[Object(h.jsx)("h3",{children:e.name}),Object(h.jsx)("div",{className:F.a.description,children:e.description}),Object(h.jsxs)("div",{className:F.a.price,children:["\u20b9",e.price]})]})]}),Object(h.jsx)("div",{children:Object(h.jsx)(U,{id:e.id,onClick:function(t){l.addItem({id:e.id,name:e.name,description:e.description,price:e.price,image:e.image,amount:t})},onWishListClick:function(){o(!s),s?l.removeItemWishList(e.id):l.addItemWishList({id:e.id,name:e.name,price:e.price,image:e.image})},wishListStatus:s})})]})},q=function(t){var e=t.onClick,i=Object(c.useState)(!1),n=Object(r.a)(i,2),a=n[0],s=n[1],o=Object(c.useState)(!1),l=Object(r.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)([{id:"",name:"",price:0,description:"",image:""}]),m=Object(r.a)(j,2),b=m[0],p=m[1];return Object(c.useEffect)((function(){function t(){return(t=Object(S.a)(H.a.mark((function t(){var e,i,c,n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,fetch("https://shop-1a145-default-rtdb.firebaseio.com/products.json");case 3:if((e=t.sent).ok){t.next=6;break}throw new Error("Something Went Wrong");case 6:return t.next=8,e.json();case 8:for(n in i=t.sent,c=[],i)c.push({id:n,name:i[n].name,description:i[n].description,price:i[n].price,image:i[n].image});p(c),s(!1),u(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){s(!0)}))}),[]),Object(h.jsx)("section",{className:M.a.shops,children:Object(h.jsx)("ul",{children:a?Object(h.jsx)("h3",{className:M.a.error,children:"Something went wrong! "}):d?Object(h.jsx)(E,{}):Object(h.jsx)(_,{children:b.map((function(t){return Object(h.jsx)(Z,{singleProduct:t,onClick:e},t.id)}))})})})},K=i(3),Y=i.n(K),T=function(t){t.id;var e=t.name,i=t.description,c=t.image,n=t.price,a=t.onClick;return Object(h.jsx)("div",{className:Y.a.backdrop,children:Object(h.jsx)("div",{className:Y.a.cart,children:Object(h.jsxs)(_,{children:[Object(h.jsxs)("div",{className:Y.a.item,children:[Object(h.jsx)("img",{src:c,alt:e}),Object(h.jsxs)("div",{className:Y.a.detail,children:[Object(h.jsx)("h3",{children:e}),Object(h.jsx)("div",{className:Y.a.description,children:i}),Object(h.jsxs)("div",{className:Y.a.price,children:["\u20b9",n]})]})]}),Object(h.jsx)("div",{className:Y.a.actions,children:Object(h.jsx)("button",{className:Y.a["button--alt"],onClick:a,children:"Cancel"})})]})})})},G=i(20),$=i.n(G),tt=function(t){var e=t.id,i=t.name,n=t.description,a=t.image,s=t.price,r=Object(c.useContext)(j);return Object(h.jsx)("div",{children:Object(h.jsxs)("li",{className:$.a["wList-item"],children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:a}),Object(h.jsx)("h2",{children:i}),Object(h.jsx)("div",{className:$.a.amount,children:Object(h.jsxs)("span",{children:["\u20b9 ",s]})})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){r.addItem({id:e,name:i,description:n,price:s,image:a,amount:1})},children:"+ Cart"})})]})})},et=i(8),it=i.n(et),ct=function(t){var e=t.onClick,i=Object(c.useContext)(j),n=i.wishList.length>0;return Object(h.jsx)("div",{className:it.a.backdrop,children:Object(h.jsx)("div",{className:it.a.wList,children:Object(h.jsxs)(_,{children:[Object(h.jsxs)("div",{className:it.a["wList-items"],children:[Object(h.jsx)("ul",{children:i.wishList.map((function(t){return Object(h.jsx)(tt,{id:t.id,name:t.name,image:t.image,price:t.price,description:t.description},t.id)}))}),n?"":Object(h.jsx)("h4",{children:"Wish List is empty"})]}),Object(h.jsx)("div",{className:it.a.actions,children:Object(h.jsx)("button",{className:it.a["button-alt"],onClick:e,children:"Cancel"})})]})})})},nt=i(14),at={items:[],totalAmount:0},st={wishListProduct:[]},rt=function(t,e){return"ADD"===e.type?{wishListProduct:t.wishListProduct.findIndex((function(t){if(t.id===e.item.id)return t.id}))>=0?Object(nt.a)(t.wishListProduct):t.wishListProduct.concat(e.item)}:"REMOVE"===e.type?{wishListProduct:t.wishListProduct.filter((function(t){return t.id!==e.id}))}:{wishListProduct:[]}},ot=function(t,e){if("ADD"===e.type){var i,c=t.totalAmount+e.item.price*e.item.amount,n=t.items.findIndex((function(t){if(t.id===e.item.id)return t.id})),a=t.items[n];if(n>=0){var s=Object(o.a)(Object(o.a)({},a),{},{amount:t.items[n].amount+e.item.amount});(i=Object(nt.a)(t.items))[n]=s}else i=t.items.concat(e.item);return{items:i,totalAmount:c}}if("REMOVE"===e.type){var r,l=t.items.findIndex((function(t){if(t.id===e.id)return t})),d=t.items[l],u=t.totalAmount-d.price;return 1===d.amount?(console.log("object"),r=t.items.filter((function(t){return t.id!==e.id}))):(console.log(t.items[l].amount),t.items[l].amount=t.items[l].amount-1,r=Object(nt.a)(t.items)),{items:r,totalAmount:u}}return at},lt=function(t){var e=t.children,i=Object(c.useReducer)(ot,at),n=Object(r.a)(i,2),a=n[0],s=n[1],o=Object(c.useReducer)(rt,st),l=Object(r.a)(o,2),d=l[0],u=l[1],m={items:a.items,wishList:d.wishListProduct,totalAmount:a.totalAmount,addItemWishList:function(t){u({type:"ADD",item:t})},removeItemWishList:function(t){u({type:"REMOVE",id:t})},addItem:function(t){s({type:"ADD",item:t})},removeItem:function(t){s({type:"REMOVE",id:t})}};return Object(h.jsx)(j.Provider,{value:m,children:e})};var dt=function(){var t=Object(c.useState)(!1),e=Object(r.a)(t,2),i=e[0],n=e[1],a=Object(c.useState)(!1),s=Object(r.a)(a,2),o=s[0],l=s[1],d=Object(c.useState)(!1),u=Object(r.a)(d,2),j=u[0],m=u[1],b=Object(c.useState)({id:"",name:"",description:"",image:"",price:0}),_=Object(r.a)(b,2),p=_[0],O=_[1];return Object(h.jsxs)(lt,{children:[Object(h.jsx)(I,{onClick:function(){n(!0)},onClickWishList:function(){l(!0)}}),Object(h.jsx)(q,{onClick:function(t){console.log(t),O(t),m(!0)}}),i?Object(h.jsx)(f,{onClick:function(){n(!1)}}):Object(h.jsx)(h.Fragment,{}),o?Object(h.jsx)(ct,{onClick:function(){l(!1)}}):Object(h.jsx)(h.Fragment,{}),j?Object(h.jsx)(T,{id:p.id,name:p.name,image:p.image,price:p.price,description:p.description,onClick:function(){m(!1)}}):Object(h.jsx)(h.Fragment,{})]})};s.a.render(Object(h.jsx)(dt,{}),document.getElementById("root"))}],[[35,1,2]]]);
//# sourceMappingURL=main.0dcc132b.chunk.js.map