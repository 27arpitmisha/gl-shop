(this.webpackJsonpglshop=this.webpackJsonpglshop||[]).push([[0],[,,,,,,,,,,function(t,e,i){t.exports={backdrop:"ProductDetail_backdrop__Q6ZuH",cart:"ProductDetail_cart__1l7MR","meals-appear":"ProductDetail_meals-appear__2crnO",shop:"ProductDetail_shop__38Fcy",item:"ProductDetail_item__1ksWU",detail:"ProductDetail_detail__QrlXW",description:"ProductDetail_description__1nsCz",price:"ProductDetail_price__8NUWn",actions:"ProductDetail_actions__2mhgA","button--alt":"ProductDetail_button--alt__2OBDi",button:"ProductDetail_button__1Snoo"}},function(t,e,i){t.exports={backdrop:"AvailableCart_backdrop__1Wy9A",cart:"AvailableCart_cart__XppQ2","cart-items":"AvailableCart_cart-items__2IuK_",total:"AvailableCart_total__1JiO4",actions:"AvailableCart_actions__1A5-J","check-out":"AvailableCart_check-out__3mJXH","button--alt":"AvailableCart_button--alt__kzRnD",button:"AvailableCart_button__14cQd",h3:"AvailableCart_h3__3Og_X"}},,,,function(t,e,i){t.exports={"cart-item":"CartItem_cart-item__38XFR",summary:"CartItem_summary__3Z1N_",price:"CartItem_price__26WPM",amount:"CartItem_amount__l4xxQ",actions:"CartItem_actions__PDw6J"}},function(t,e,i){t.exports={shop:"Product_shop__PJppF",item:"Product_item__2K9gh",detail:"Product_detail__37bI1",description:"Product_description__29vYd",price:"Product_price__1C5Tn"}},function(t,e,i){t.exports={backdrop:"AvailableWishListProduct_backdrop__utUNK",wList:"AvailableWishListProduct_wList__26A5V","wList-items":"AvailableWishListProduct_wList-items__2m8fq",actions:"AvailableWishListProduct_actions__3Nhm5","check-out":"AvailableWishListProduct_check-out__156SY","button-alt":"AvailableWishListProduct_button-alt__12LOC",button:"AvailableWishListProduct_button__2WcPX"}},,,,,,function(t,e,i){t.exports={button:"HeaderCart_button__1dcEv",icon:"HeaderCart_icon__AWuMM",badge:"HeaderCart_badge__1fMty"}},function(t,e,i){t.exports={shops:"AvailableProduct_shops__3v9Ry","shops-appear":"AvailableProduct_shops-appear__2XBm3","main-image":"AvailableProduct_main-image__2RhAu",error:"AvailableProduct_error__3yR6c"}},function(t,e,i){t.exports={content:"PageNotFound_content__3VPBL",actions:"PageNotFound_actions__15oKh","button--alt":"PageNotFound_button--alt__1le4L",button:"PageNotFound_button__1rCmv"}},,,,,,function(t,e,i){t.exports={header:"Header_header__1u2yu","main-image":"Header_main-image__2mbZM",HeaderButtons:"Header_HeaderButtons__2eBhN"}},function(t,e,i){t.exports={button:"HeaderWishList_button__28d-z",icon:"HeaderWishList_icon__g02_8"}},function(t,e,i){t.exports={"wList-item":"WishList_wList-item__1e0nO",summary:"WishList_summary__2Jzvn",price:"WishList_price__2BU6Y",amount:"WishList_amount__3XZwS",actions:"WishList_actions__3fgjq"}},,function(t,e,i){t.exports={card:"Card_card__33_fn"}},,function(t,e,i){t.exports={input:"Input_input__12Epz"}},function(t,e,i){t.exports={form:"ShoppingForm_form__1_QWo"}},,,,,function(t,e,i){},,,,,,,,,,,,function(t,e,i){},function(t,e,i){"use strict";i.r(e);var c=i(1),n=i.n(c),a=i(34),s=i.n(a),r=(i(43),i(8)),o=i.n(r),u=i(12),d=i(4),l=i(2),j=(i(45),i(14)),m=i(11),b=i.n(m),h=i(22),p=n.a.createContext({items:[{id:"",name:"",description:"",price:0,amount:0,image:""}],wishList:[{id:"",name:"",price:0,image:""}],totalAmount:0,addItem:function(t){Object(h.a)(t)},addItemWishList:function(t){Object(h.a)(t)},removeItemWishList:function(t){},removeItem:function(t){},replaceCart:function(t){Object(h.a)(t)}}),O=i(35),_=i.n(O),x=i(0),f=function(t){var e=t.children;return Object(x.jsx)("div",{className:_.a.card,children:e})},v=i(15),g=i.n(v),C=function(t){var e=t.amount,i=t.name,c=t.price,n=t.image,a=t.onAdd,s=t.onRemove;return Object(x.jsx)("div",{children:Object(x.jsxs)("li",{className:g.a["cart-item"],children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:n}),Object(x.jsx)("h2",{children:i}),Object(x.jsxs)("div",{className:g.a.summary,children:[Object(x.jsxs)("span",{className:g.a.price,children:["\u20b9 ",c]}),Object(x.jsxs)("span",{className:g.a.amount,children:["x ",e]})]})]}),Object(x.jsxs)("div",{className:g.a.actions,children:[Object(x.jsx)("button",{onClick:s,children:"\u2212"}),Object(x.jsx)("button",{onClick:a,children:"+"})]})]})})},N=function(){var t=Object(c.useContext)(p),e=Object(l.g)(),i=t.items.length>0,n=function(e){t.addItem(Object(j.a)(Object(j.a)({},e),{},{amount:1}))},a=function(e){t.removeItem(e)};return Object(x.jsx)("div",{className:b.a.backdrop,children:Object(x.jsx)("div",{className:b.a.cart,children:Object(x.jsxs)(f,{children:[Object(x.jsx)("div",{className:b.a["cart-items"],children:Object(x.jsxs)("ul",{children:[t.items.map((function(t){return Object(x.jsx)(C,{id:t.id,name:t.name,desciption:t.description,price:t.price,image:t.image,amount:t.amount,onAdd:n.bind(null,t),onRemove:a.bind(null,t.id)},t.id)})),Object(x.jsxs)("div",{className:b.a.total,children:[i?Object(x.jsx)("span",{children:"Total"}):Object(x.jsx)("h4",{children:"Cart is empty"}),Object(x.jsxs)("span",{children:["\u20b9",Math.abs(parseFloat(t.totalAmount.toFixed(2)))]})]})]})}),Object(x.jsxs)("div",{className:b.a.actions,children:[Object(x.jsx)("button",{className:b.a["button--alt"],onClick:function(){e.push("/gl-shop/product")},children:"Products"}),i&&Object(x.jsx)("button",{className:b.a.button,children:"Order"})]})]})})})},k=i(23),L=i.n(k),A=function(){return Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(x.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},P=function(){var t=Object(c.useContext)(p),e=Object(l.g)(),i=t.items.reduce((function(t,e){return t+e.amount}),0);return Object(x.jsxs)("button",{className:L.a.button,onClick:function(){e.push("/gl-shop/cart")},children:[Object(x.jsx)("span",{className:L.a.icon,children:Object(x.jsx)(A,{})}),Object(x.jsx)("span",{children:"Check Cart"}),Object(x.jsx)("span",{className:L.a.badge,children:i})]})},w=i(31),W=i.n(w),y=i(32),I=i.n(y),D=i(21),S=function(t){var e=t.onClick,i=Object(c.useContext)(p).wishList.length>0;return Object(x.jsxs)("button",{className:I.a.button,onClick:e,children:[Object(x.jsx)("span",{children:"Wish List "}),Object(x.jsx)("span",{className:I.a.icon,children:Object(x.jsx)(D.a,{size:"1.5em",color:i?"red":"grey"})})]})},E=function(t){var e=t.onClickWishList,i=Object(l.g)();return Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)("header",{className:W.a.header,children:[Object(x.jsx)("h3",{onClick:function(){i.push("/gl-shop/product")},children:"Globallogic Shop"}),Object(x.jsxs)("div",{className:W.a.HeaderButtons,children:[Object(x.jsx)(S,{onClick:e}),Object(x.jsx)(P,{})]})]})})},R=i(24),H=i.n(R),F=(i(55),function(){return Object(x.jsx)("div",{className:"loader"})}),M=i(16),B=i.n(M),z=i(37),J=i.n(z),T=n.a.forwardRef((function(t,e){return Object(x.jsxs)("div",{className:J.a.input,children:[Object(x.jsx)("label",{}),Object(x.jsx)("input",{id:t.id,ref:e,defaultValue:"1",type:"number"})]})})),V=i(38),X=i.n(V),Q=function(t){var e=t.id,i=t.onClick,n=t.onWishListClick,a=t.wishListStatus,s=Object(c.useRef)(null),r=Object(c.useState)(!1),o=Object(d.a)(r,2),u=o[0],l=o[1];return Object(x.jsxs)("form",{className:X.a.form,children:[Object(x.jsx)(T,{id:e,ref:s}),u?Object(x.jsx)("p",{children:"Input is inValid "}):"",Object(x.jsx)("button",{onClick:function(t){if(t.preventDefault(),s.current){var e=s.current.valueAsNumber;e<=0||isNaN(e)||e>5?l(!0):(i(e),l(!1))}},children:" + ADD "}),Object(x.jsx)(D.a,{size:"1.5em",color:a?"red":"grey",onClick:n})]})},U=function(t){var e=t.singleProduct,i=Object(c.useState)(!1),n=Object(d.a)(i,2),a=n[0],s=n[1],r=Object(c.useContext)(p),o=Object(l.g)();return Object(x.jsxs)("li",{className:B.a.shop,children:[Object(x.jsxs)("div",{className:B.a.item,children:[Object(x.jsx)("img",{src:e.image,alt:e.name,onClick:function(){o.push("/gl-shop/product/".concat(e.id))}}),Object(x.jsxs)("div",{className:B.a.detail,children:[Object(x.jsx)("h3",{children:e.name}),Object(x.jsx)("div",{className:B.a.description,children:e.description}),Object(x.jsxs)("div",{className:B.a.price,children:["\u20b9",e.price]})]})]}),Object(x.jsx)("div",{children:Object(x.jsx)(Q,{id:e.id,onClick:function(t){r.addItem({id:e.id,name:e.name,description:e.description,price:e.price,image:e.image,amount:t})},onWishListClick:function(){s(!a),a?r.removeItemWishList(e.id):r.addItemWishList({id:e.id,name:e.name,price:e.price,image:e.image})},wishListStatus:a})})]})},K=i.p+"static/media/banner2.359f0b3f.png",Z=function(){var t=Object(c.useState)(!1),e=Object(d.a)(t,2),i=e[0],n=e[1],a=Object(c.useState)(!1),s=Object(d.a)(a,2),r=s[0],l=s[1],j=Object(c.useState)([{id:"",name:"",price:0,description:"",image:""}]),m=Object(d.a)(j,2),b=m[0],h=m[1];return Object(c.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var e,i,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,fetch("https://shop-1a145-default-rtdb.firebaseio.com/products.json");case 3:if((e=t.sent).ok){t.next=6;break}throw new Error("Something Went Wrong");case 6:return t.next=8,e.json();case 8:for(a in i=t.sent,c=[],i)c.push({id:a,name:i[a].name,description:i[a].description,price:i[a].price,image:i[a].image});h(c),n(!1),l(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){n(!0)}))}),[]),Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("div",{className:H.a["main-image"],children:Object(x.jsx)("img",{src:K})}),Object(x.jsx)("section",{className:H.a.shops,children:Object(x.jsx)("ul",{children:i?Object(x.jsx)("h3",{className:H.a.error,children:"Something went wrong! "}):r?Object(x.jsx)(F,{}):Object(x.jsx)(f,{children:b.map((function(t){return Object(x.jsx)(U,{singleProduct:t},t.id)}))})})})]})},Y=i(10),q=i.n(Y),G=function(){var t=Object(l.h)(),e=Object(c.useState)(),i=Object(d.a)(e,2),n=i[0],a=i[1],s=Object(c.useState)(!1),r=Object(d.a)(s,2),j=r[0],m=r[1],b=Object(c.useState)(!1),h=Object(d.a)(b,2),p=h[0],O=h[1],_=Object(l.g)(),v=t.productId;Object(c.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var e,i,c,n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.next=3,fetch("https://shop-1a145-default-rtdb.firebaseio.com/products.json");case 3:if((e=t.sent).ok){t.next=6;break}throw new Error("Something Went Wrong");case 6:return t.next=8,e.json();case 8:for(n in i=t.sent,c=[],i)c.push({id:n,name:i[n].name,description:i[n].description,price:i[n].price,image:i[n].image});s=c.findIndex((function(t){if(t.id===v)return t.id})),r=c[s],a({id:r.id,name:r.name,description:r.description,price:r.price,image:r.image}),m(!1),O(!1);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){m(!0)}))}),[]);return Object(x.jsx)("div",{className:q.a.backdrop,children:Object(x.jsx)("div",{className:q.a.cart,children:Object(x.jsxs)(f,{children:[Object(x.jsx)(c.Fragment,{children:j?Object(x.jsx)("h5",{children:"Something not right"}):p?Object(x.jsx)(F,{}):Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)("div",{className:q.a.item,children:[Object(x.jsx)("img",{src:null===n||void 0===n?void 0:n.image,alt:null===n||void 0===n?void 0:n.name}),Object(x.jsxs)("div",{className:q.a.detail,children:[Object(x.jsx)("h3",{children:null===n||void 0===n?void 0:n.name}),Object(x.jsx)("div",{className:q.a.description,children:null===n||void 0===n?void 0:n.description}),Object(x.jsxs)("div",{className:q.a.price,children:["\u20b9",null===n||void 0===n?void 0:n.price]})]})]})})}),Object(x.jsx)("div",{className:q.a.actions,children:Object(x.jsx)("button",{className:q.a["button--alt"],onClick:function(){_.push("/gl-shop/product")},children:"Back"})})]})})})},$=i(33),tt=i.n($),et=function(t){var e=t.id,i=t.name,n=t.description,a=t.image,s=t.price,r=Object(c.useContext)(p);return Object(x.jsx)("div",{children:Object(x.jsxs)("li",{className:tt.a["wList-item"],children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{src:a}),Object(x.jsx)("h2",{children:i}),Object(x.jsx)("div",{className:tt.a.amount,children:Object(x.jsxs)("span",{children:["\u20b9 ",s]})})]}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){r.addItem({id:e,name:i,description:n,price:s,image:a,amount:1})},children:"+ Cart"})})]})})},it=i(17),ct=i.n(it),nt=function(t){var e=t.onClick,i=Object(c.useContext)(p),n=i.wishList.length>0;return Object(x.jsx)("div",{className:ct.a.backdrop,children:Object(x.jsx)("div",{className:ct.a.wList,children:Object(x.jsxs)(f,{children:[Object(x.jsxs)("div",{className:ct.a["wList-items"],children:[Object(x.jsx)("ul",{children:i.wishList.map((function(t){return Object(x.jsx)(et,{id:t.id,name:t.name,image:t.image,price:t.price,description:t.description},t.id)}))}),n?"":Object(x.jsx)("h4",{children:"Wish List is empty"})]}),Object(x.jsx)("div",{className:ct.a.actions,children:Object(x.jsx)("button",{className:ct.a["button-alt"],onClick:e,children:"Cancel"})})]})})})},at=i(25),st=i.n(at);function rt(){var t=Object(l.g)();return Object(x.jsxs)("div",{className:st.a.content,children:[Object(x.jsx)("h5",{children:"Page not found"}),Object(x.jsx)("div",{className:st.a.actions,children:Object(x.jsx)("button",{className:st.a["button--alt"],onClick:function(){t.push("/gl-shop/product")},children:"Take me home !"})})]})}var ot=!0;var ut=function(){var t=Object(c.useState)(!1),e=Object(d.a)(t,2),i=e[0],n=e[1],a=Object(c.useState)(!1),s=Object(d.a)(a,2),r=(s[0],s[1]),j=Object(c.useContext)(p);return Object(c.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ot){t.next=3;break}return ot=!1,t.abrupt("return");case 3:return t.next=5,fetch("https://shop-1a145-default-rtdb.firebaseio.com/Cart.json",{method:"PUT",body:JSON.stringify({items:j.items,totalAmount:j.totalAmount})});case 5:if(t.sent.ok){t.next=8;break}throw new Error("Something not right while adding to cart");case 8:r(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){r(!0),setTimeout((function(){r(!1)}),1e3)}))}),[j.items]),Object(c.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var e,i,c,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://shop-1a145-default-rtdb.firebaseio.com/Cart.json");case 2:if((e=t.sent).ok){t.next=5;break}throw new Error("Something Went Wrong");case 5:return t.next=7,e.json();case 7:for(n in i=t.sent,c=[],i.items)c.push({id:i.items[n].id,amount:i.items[n].amount,name:i.items[n].name,description:i.items[n].description,price:i.items[n].price,image:i.items[n].image});j.replaceCart({cartProducts:[].concat(c),totalAmount:i.totalAmount}),r(!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){r(!0),setTimeout((function(){r(!1)}),1e3)}))}),[]),Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(E,{onClickWishList:function(){n(!0)}}),Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{path:"/",exact:!0,children:Object(x.jsx)(l.a,{to:"/gl-shop/product"})}),Object(x.jsx)(l.b,{path:"/gl-shop",exact:!0,children:Object(x.jsx)(l.a,{to:"/gl-shop/product"})}),Object(x.jsx)(l.b,{path:"/gl-shop/product",exact:!0,children:Object(x.jsx)(Z,{})}),Object(x.jsx)(l.b,{path:"/gl-shop/product/:productId",children:Object(x.jsx)(G,{})}),Object(x.jsx)(l.b,{path:"/gl-shop/cart",children:Object(x.jsx)(N,{})}),Object(x.jsx)(l.b,{path:"*",exact:!0,component:rt})]}),i?Object(x.jsx)(nt,{onClick:function(){n(!1)}}):Object(x.jsx)(x.Fragment,{})]})},dt=i(26),lt={items:[],totalAmount:0},jt={wishListProduct:[]},mt=function(t,e){return"ADD"===e.type?{wishListProduct:t.wishListProduct.findIndex((function(t){if(t.id===e.item.id)return t.id}))>=0?Object(dt.a)(t.wishListProduct):t.wishListProduct.concat(e.item)}:"REMOVE"===e.type?{wishListProduct:t.wishListProduct.filter((function(t){return t.id!==e.id}))}:{wishListProduct:[]}},bt=function(t,e){if("REPLACE_CART"===e.type)return{items:e.product.cartProducts,totalAmount:e.product.totalAmount};if("ADD"===e.type){var i,c=t.totalAmount+e.item.price*e.item.amount,n=t.items.findIndex((function(t){if(t.id===e.item.id)return t.id})),a=t.items[n];if(n>=0){var s=Object(j.a)(Object(j.a)({},a),{},{amount:t.items[n].amount+e.item.amount});(i=Object(dt.a)(t.items))[n]=s}else i=t.items.concat(e.item);return{items:i,totalAmount:c}}if("REMOVE"===e.type){var r,o=t.items.findIndex((function(t){if(t.id===e.id)return t})),u=t.items[o],d=t.totalAmount-u.price;return 1===u.amount?r=t.items.filter((function(t){return t.id!==e.id})):(t.items[o].amount=t.items[o].amount-1,r=Object(dt.a)(t.items)),{items:r,totalAmount:d}}return lt},ht=function(t){var e=t.children,i=Object(c.useReducer)(bt,lt),n=Object(d.a)(i,2),a=n[0],s=n[1],r=Object(c.useReducer)(mt,jt),o=Object(d.a)(r,2),u=o[0],l=o[1],j={items:a.items,wishList:u.wishListProduct,totalAmount:a.totalAmount,addItemWishList:function(t){l({type:"ADD",item:t})},removeItemWishList:function(t){l({type:"REMOVE",id:t})},addItem:function(t){s({type:"ADD",item:t})},removeItem:function(t){s({type:"REMOVE",id:t})},replaceCart:function(t){s({type:"REPLACE_CART",product:t})}};return Object(x.jsx)(p.Provider,{value:j,children:e})},pt=i(9);s.a.render(Object(x.jsx)(pt.a,{children:Object(x.jsx)(ht,{children:Object(x.jsx)(ut,{})})}),document.getElementById("root"))}],[[56,1,2]]]);
//# sourceMappingURL=main.dedd0e31.chunk.js.map